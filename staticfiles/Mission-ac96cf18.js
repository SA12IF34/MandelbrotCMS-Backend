import{j as t}from"./index-3a55f404.js";import{a as u}from"./index-e59a6ce4.js";import{G as h}from"./iconBase-10535e60.js";import{A as g}from"./index-af17fb20.js";import{a as x}from"./Main-755d3160.js";function f(e){return h({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function k(){return t.jsx("div",{style:{height:"10vh"}})}function $({mission:e,readonly:c}){async function l(a,r,n){var o,i;try{const s=await x.patch(`missions/${r}/`,n);s.status===202?(n.status==="done"?(o=document.querySelector(`#mission-${r}`))==null||o.classList.add("done"):(i=document.querySelector(`#mission-${r}`))==null||i.classList.remove("done"),a.target.classList.toggle("checked")):s.status===200&&window.location.reload()}catch(s){s instanceof g&&(s.status===500||s.status===400)&&alert("Something wen wrong, please try again."),console.log(`Error :
`,s)}}function d(a){var r,n,o;(o=(n=(r=a.target)==null?void 0:r.parentElement)==null?void 0:n.querySelector(".related-object"))==null||o.classList.toggle("show"),a.target.classList.toggle("extend")}return t.jsxs("div",{children:[t.jsxs("div",{id:`mission-${e.id}`,className:`mission-content ${e.status==="done"&&"done"}`,children:[!c&&t.jsx("button",{onClick:a=>{l(a,e.id,{status:e.status==="done"?"pending":"done"})},className:`mission-check ${e.status==="done"&&"checked"}`,children:t.jsx(u,{})}),t.jsx("p",{children:e.content})]}),e.related&&t.jsxs(t.Fragment,{children:[t.jsx("a",{href:`${e.related.route}${e.related.id}`,target:"_blank",className:"related-object",children:t.jsx("span",{children:e.related.title})}),t.jsx("button",{onClick:d,className:"extend-mission-btn",children:t.jsx(f,{})})]}),c&&t.jsx(t.Fragment,{})]})}export{f as I,$ as L,k as S};
