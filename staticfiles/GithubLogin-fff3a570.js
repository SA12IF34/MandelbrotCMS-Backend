import{e as u,j as a,r as g}from"./index-3a55f404.js";import{F as p,a as m}from"./index-ee7d2108.js";import{c as h}from"./api-d470eb0d.js";const d=h("https://api.cms.saifchan.online/");function b(){async function e(s){try{(await d.post("authentication/apis/rest-auth/google/",{access_token:s})).status===200&&window.location.assign("/")}catch(n){alert("Problems Problems!!"),console.log(n)}}const i=u({onSuccess:s=>{e(s.access_token)},onError:s=>{alert("Auth Failed Failed!!"),console.log(s)}});return a.jsx("button",{onClick:()=>i(),className:"LoginBtn GoogleLogin",children:a.jsx(p,{})})}const l=h("https://api.cms.saifchan.online/");function k(){const e="https://github.com/login/oauth/authorize?client_id=Ov23liL4QpkLzBEhAAPC&amp;redirect_uri=https://cms.saifchan.online/log-in/&amp;scope=user",i=()=>{window.location.assign(e)};async function s(t){try{(await l.post("authentication/apis/rest-auth/github/",{access_token:t})).status===200&&window.location.assign("/")}catch(o){console.log(o)}}const n=async t=>{try{const o=await l.post("authentication/apis/rest-auth/access_token/github/",{code:t});if(o.status===200){const r=await o.data;console.log(r),s(r.access_token)}}catch(o){console.log(o)}};let c=0;return g.useEffect(()=>{if(c<1){const t=new URLSearchParams(window.location.search);if(t.has("code")){const o=t.get("code");n(o)}c+=1}},[]),a.jsx("button",{onClick:()=>i(),className:"LoginBtn GithubLogin",children:a.jsx(m,{})})}export{b as G,k as a};
